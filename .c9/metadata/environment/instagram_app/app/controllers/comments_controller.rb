{"filter":false,"title":"comments_controller.rb","tooltip":"/instagram_app/app/controllers/comments_controller.rb","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["class CommentsController < ApplicationController","end",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":15,"column":3},"action":"insert","lines":["class CommentsController < ApplicationController","  def create","    @comment = Comment.new(comment_params)","    @post = @comment.post","    if @comment.save","      respond_to :js","    else","      flash[:alert] = \"コメントに失敗しました\"","    end","  end","","  private","    def comment_params","      params.required(:comment).permit(:user_id, :post_id, :comment)","    end","end"]}],[{"start":{"row":0,"column":0},"end":{"row":15,"column":3},"action":"remove","lines":["class CommentsController < ApplicationController","  def create","    @comment = Comment.new(comment_params)","    @post = @comment.post","    if @comment.save","      respond_to :js","    else","      flash[:alert] = \"コメントに失敗しました\"","    end","  end","","  private","    def comment_params","      params.required(:comment).permit(:user_id, :post_id, :comment)","    end","end"],"id":3},{"start":{"row":0,"column":0},"end":{"row":27,"column":3},"action":"insert","lines":["class CommentsController < ApplicationController","  def create","    @comment = Comment.new(comment_params)","    @post = @comment.post","    if @comment.save","      respond_to :js","    else","      flash[:alert] = \"コメントに失敗しました\"","    end","  end","","  # ==========ここから追加する==========","  def destroy","    @comment = Comment.find_by(id: params[:id])","    @post = @comment.post","    if @comment.destroy","      respond_to :js","    else","      flash[:alert] = \"コメントの削除に失敗しました\"","    end","  end","  # ==========ここまで追加する==========","","  private","    def comment_params","      params.required(:comment).permit(:user_id, :post_id, :comment)","    end","end"]}],[{"start":{"row":0,"column":48},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":1,"column":2},"end":{"row":2,"column":0},"action":"insert","lines":[" before_action :authenticate_user!",""],"id":5}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":[" "],"id":6}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":2},"end":{"row":1,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1599999187878,"hash":"5ed0202da730ad1490b3d7fb8d048298e660c774"}